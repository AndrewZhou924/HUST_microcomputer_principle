   
    


    
SELECT:
BANKSEL LATA
MOVLW B'11111111'
MOVWF  LATA
MOVLW B'11111111'
MOVWF PORTC

MOVLW LOW STABLE ;获得TABLE的低8位
ADDWF NUM,F;TABLE值加上偏移量
MOVLW HIGH STABLE;获得TABLE的高5位
BTFSC STATUS,C;检测是否翻页
ADDLW 1;翻页则在TABLE的高5位加一
MOVWF PCLATH;将TABLE的高5位写入PCLATH
MOVF NUM,W;将需要调用的信号的地址写入W
CALL STABLE;
MOVWF PORTC
RETURN    
    
STABLE:
MOVWF PCL;转到偏移的地址
RETLW B'00000001';1
RETLW B'00000010';2
RETLW B'00000100';3
RETLW B'00001000';4 
    
WRITE:
MOVLW LOW TABLE ;获得TABLE的低8位
ADDWF OFFSET,F;TABLE值加上偏移量
MOVLW HIGH TABLE;获得TABLE的高5位
BTFSC STATUS,C;检测是否翻页
ADDLW 1;翻页则在TABLE的高5位加一
MOVWF PCLATH;将TABLE的高5位写入PCLATH
MOVF OFFSET,W;将需要调用的信号的地址写入W
CALL TABLE;
MOVWF LATA
RETURN
    
DELAY1:
BANKSEL PIR1
BTFSS PIR1,0 ;judge target bit
GOTO DELAY1
BANKSEL TMR1H
MOVLW B'00000000'
MOVWF TMR1H ;TMR1H Value
BANKSEL TMR1L
MOVLW B'00000000'
MOVWF TMR1L ;TMR1L Value
RETURN   
    
TABLE:
MOVWF PCL;转到偏移的地址

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111001';1

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10100100';2

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10110000';3

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10011001';4

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10010010';5

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10000010';6

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111000';7

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10000000';8

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'10010000';9

RETLW B'11111111';NULL
RETLW B'11111111';NULL
RETLW B'11000000';0
RETLW B'11111001';10    

RETLW B'11111001';NULL
RETLW B'11111001';NULL
RETLW B'11111001';NULL
RETLW B'11111001';11 显示1111，表示单击    

RETLW B'10100100';NULL
RETLW B'10100100';NULL
RETLW B'10100100';NULL
RETLW B'10100100';12 显示2222，表示双击 
    
RETLW B'10110000';NULL
RETLW B'10110000';NULL
RETLW B'10110000';NULL
RETLW B'10110000';13 显示3333，表示长按 

RETLW B'11000000';NULL
RETLW B'11000000';NULL
RETLW B'11000000';NULL
RETLW B'11000000';14 显示0000，表示当前操作有误    
    
